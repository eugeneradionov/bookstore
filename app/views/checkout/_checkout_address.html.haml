%h1.general-title-margin Checkout
%ul.steps.list-inline
  %li.step.active
    %span.step-number 1
    %span.step-text.hidden-xs Address
  %li.step-divider
  %li.step
    %span.step-number 2
    %span.step-text.hidden-xs Delivery
  %li.step-divider
  %li.step
    %span.step-number 3
    %span.step-text.hidden-xs Payment
  %li.step-divider
  %li.step
    %span.step-number 4
    %span.step-text.hidden-xs Confirm
  %li.step-divider
  %li.step
    %span.step-number 5
    %span.step-text.hidden-xs Complete
.hidden-xs.hidden-sm
  .row
    .col-md-5
      %h3.general-subtitle Billing Address
      %p.general-info-text all fields are required
    .col-md-5.col-md-offset-1
      %h3.general-subtitle Shipping Address
.row
  .col-md-5.mb-40
    .visible-xs.visible-sm
      %h3.general-subtitle Billing Address
      %p.general-info-text all fields are required
    - if @checkout.errors[:billing_first_name].empty?
      .form-group
        = f.label :first_name, class: 'control-label input-label'
        = f.text_field :billing_first_name, id: 'firstName', class: 'form-control', placeholder: 'First Name'
    - else
      .form-group.has-error
        = f.label :first_name, class: 'control-label input-label'
        = f.text_field :billing_first_name, id: 'firstName', class: 'form-control', placeholder: 'First Name'
        %span.help-block= error_message_for(:billing_first_name)

    - if @checkout.errors[:billing_last_name].empty?
      .form-group
        = f.label :last_name, class: 'control-label input-label'
        = f.text_field :billing_last_name, id: 'lastName', class: 'form-control', placeholder: 'Last Name'
    - else
      .form-group.has-error
        = f.label :last_name, class: 'control-label input-label'
        = f.text_field :billing_last_name, id: 'lastName', class: 'form-control', placeholder: 'Last Name'
        %span.help-block= error_message_for(:billing_last_name)

    - if @checkout.errors[:billing_address].empty?
      .form-group
        = f.label :address, class: 'control-label input-label'
        = f.text_field :billing_address, id: 'address', class: 'form-control', placeholder: 'Address'
    - else
      .form-group.has-error
        = f.label :address, class: 'control-label input-label'
        = f.text_field :billing_address, id: 'address', class: 'form-control', placeholder: 'Address'
        %span.help-block= error_message_for(:billing_address)

    - if @checkout.errors[:billing_city].empty?
      .form-group
        = f.label :city, class: 'control-label input-label'
        = f.text_field :billing_city, id: 'city', class: 'form-control', placeholder: 'City'
    - else
      .form-group.has-error
        = f.label :city, class: 'control-label input-label'
        = f.text_field :billing_city, id: 'city', class: 'form-control', placeholder: 'City'
        %span.help-block= error_message_for(:billing_city)

    - if @checkout.errors[:billing_zip].empty?
      .form-group
      = f.label :zip, class: 'control-label input-label'
      = f.text_field :billing_zip, id: 'zip', class: 'form-control', placeholder: 'Zip'
    - else
      .form-group.has-error
        = f.label :zip, class: 'control-label input-label'
        = f.text_field :billing_zip, id: 'zip', class: 'form-control', placeholder: 'Zip'
        %span.help-block= error_message_for(:billing_zip)

    .form-group
      = f.label :country, class: 'control-label input-label'
      = f.country_select(:billing_country, {}, {id: 'country', class: 'form-control', placeholder: 'Select a country'})

    - if @checkout.errors[:billing_phone].empty?
      .form-group
      = f.label :phone, class: 'control-label input-label'
      = f.telephone_field :billing_phone, pattern: '^\+\D?\d{3}\D?\d{2}\D?\d{3}\D?\d{4}$', id: 'phone', class: 'form-control', placeholder: 'Example +355 66 123 4567'
    - else
      .form-group.has-error
        = f.label :phone, class: 'control-label input-label'
        = f.telephone_field :billing_phone, pattern: '^\+\D?\d{3}\D?\d{2}\D?\d{3}\D?\d{4}$', id: 'phone', class: 'form-control', placeholder: 'Example +355 66 123 4567'
        %span.help-block= error_message_for(:billing_phone)
  .col-md-5.col-md-offset-1.mb-60
    .visible-xs.visible-sm
      %h3.general-subtitle Shipping Address
    - if (@checkout.use_billing_address == '0') || !@checkout.use_billing_address
      - if @checkout.errors[:shipping_first_name].empty?
        .form-group
          = f.label :first_name, class: 'control-label input-label'
          = f.text_field :shipping_first_name, id: 'firstName', class: 'form-control', placeholder: 'First Name'
      - else
        .form-group.has-error
          = f.label :first_name, class: 'control-label input-label'
          = f.text_field :shipping_first_name, id: 'firstName', class: 'form-control', placeholder: 'First Name'
          %span.help-block= error_message_for(:shipping_first_name)

      - if @checkout.errors[:shipping_last_name].empty?
        .form-group
          = f.label :last_name, class: 'control-label input-label'
          = f.text_field :shipping_last_name, id: 'lastName', class: 'form-control', placeholder: 'Last Name'
      - else
        .form-group.has-error
          = f.label :last_name, class: 'control-label input-label'
          = f.text_field :shipping_last_name, id: 'lastName', class: 'form-control', placeholder: 'Last Name'
          %span.help-block= error_message_for(:shipping_last_name)

      - if @checkout.errors[:shipping_address].empty?
        .form-group
          = f.label :address, class: 'control-label input-label'
          = f.text_field :shipping_address, id: 'address', class: 'form-control', placeholder: 'Address'
      - else
        .form-group.has-error
          = f.label :address, class: 'control-label input-label'
          = f.text_field :shipping_address, id: 'address', class: 'form-control', placeholder: 'Address'
          %span.help-block= error_message_for(:shipping_address)

      - if @checkout.errors[:shipping_city].empty?
        .form-group
          = f.label :city, class: 'control-label input-label'
          = f.text_field :shipping_city, id: 'city', class: 'form-control', placeholder: 'City'
      - else
        .form-group.has-error
          = f.label :city, class: 'control-label input-label'
          = f.text_field :shipping_city, id: 'city', class: 'form-control', placeholder: 'City'
          %span.help-block= error_message_for(:shipping_city)

      - if @checkout.errors[:shipping_zip].empty?
        .form-group
        = f.label :zip, class: 'control-label input-label'
        = f.text_field :shipping_zip, id: 'zip', class: 'form-control', placeholder: 'Zip'
      - else
        .form-group.has-error
          = f.label :zip, class: 'control-label input-label'
          = f.text_field :shipping_zip, id: 'zip', class: 'form-control', placeholder: 'Zip'
          %span.help-block= error_message_for(:shipping_zip)

      .form-group
        = f.label :country, class: 'control-label input-label'
        = f.country_select(:shipping_country, {}, {id: 'country', class: 'form-control', placeholder: 'Select a country'})

      - if @checkout.errors[:shipping_phone].empty?
        .form-group
        = f.label :phone, class: 'control-label input-label'
        = f.telephone_field :shipping_phone, pattern: '^\+\D?\d{3}\D?\d{2}\D?\d{3}\D?\d{4}$', id: 'phone', class: 'form-control', placeholder: 'Example +355 66 123 4567'
      - else
        .form-group.has-error
          = f.label :phone, class: 'control-label input-label'
          = f.telephone_field :shipping_phone, pattern: '^\+\D?\d{3}\D?\d{2}\D?\d{3}\D?\d{4}$', id: 'phone', class: 'form-control', placeholder: 'Example +355 66 123 4567'
          %span.help-block= error_message_for(:shipping_phone)
    .form-group.checkbox
      %label.checkbox-label
        = f.check_box :use_billing_address, class: 'checkbox-input', hidden: 'true'
        %span.checkbox-icon
          %i.fa.fa-check
        %span.checkbox-text Use Billing Adress
.general-text-align
  = render 'order_summary'